kind: BundleTemplate
name: combo
inputsSchemaPath: "bundles.json"
modules:
  - type: test
    name: ${bundle.name}-${inputs.foo}-test-a
    include: []
    generateFiles:
      - targetPath: module-a.log
        value: "hellow"
  - type: test
    name: ${bundle.name}-${inputs.foo}-test-b
    build:
      dependencies: ["${bundle.name}-${inputs.foo}-test-a"]
    include: []
    generateFiles:
      - targetPath: module-b.log
        sourcePath: source.txt
  - type: test
    name: ${bundle.name}-${inputs.foo}-test-c
    build:
      dependencies: ["${bundle.name}-${inputs.foo}-test-a"]
    include: []
    generateFiles:
      - targetPath: .garden/subdir/module-c.log
        value: |
          Hello I am string!
          input: ${inputs.foo}
          module reference: ${modules["${bundle.name}-${inputs.foo}-test-a"].path}
